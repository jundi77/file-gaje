{"version":3,"sources":["skintool.js"],"names":["define","$","Ajax","colorhex","COLORTOHEX","color","hex","updateSetting","configname","configvalue","call","methodname","args","on","this","value","show","hide","filter","el","length","attr","concat","document","split","inverse","checked","toggleClass","undefined","removeClass","addClass"],"mappings":"AAAA,aAgBAA,OAAO,CAAC,SAAU,aAAc,SAAUC,EAAGC,GAC3C,IACIC,EACAC,EAAa,CAAC,CAChBC,MAAO,UACPC,IAAK,UACJ,CACDD,MAAO,QACPC,IAAK,UACJ,CACDD,MAAO,OACPC,IAAK,UACJ,CACDD,MAAO,QACPC,IAAK,UACJ,CACDD,MAAO,OACPC,IAAK,UACJ,CACDD,MAAO,SACPC,IAAK,UACJ,CACDD,MAAO,SACPC,IAAK,UACJ,CACDD,MAAO,OACPC,IAAK,UACJ,CACDD,MAAO,SACPC,IAAK,UACJ,CACDD,MAAO,MACPC,IAAK,UACJ,CACDD,MAAO,OACPC,IAAK,WA6BP,SAASC,EAAcC,EAAYC,GAEjCP,EAAKQ,KAAK,CAAC,CACTC,WAFiB,0BAGjBC,KAAM,CACJJ,WAAYA,EACZC,YAAaA,MAjCnBR,EAAE,mEAAmEY,GAAG,SAAU,WAChF,IAAIR,EAAQS,KAAKC,MAEJ,eAATV,EACFJ,EAAE,qBAAqBe,QAEvBf,EAAE,qBAAqBgB,OAEvBV,EAAc,YAAaF,GAY3BE,EAAc,eALZJ,GALFA,EAAWC,EAAWc,OAAO,SAAUC,GACrC,OAAOA,EAAGd,OAASA,KAGRe,OACAjB,EAAS,GAAGG,IAnDZ,UAyDbL,EAAE,iBAAiBoB,KAAK,QAAS,sBAAsBC,OAAOnB,EAAU,gBACxEF,EAAE,gBAAgBoB,KAAK,QAAS,sBAAsBC,OAAOnB,EAAU,gBACvEF,EAAE,gBAAgBoB,KAAK,QAAS,sBAAsBC,OAAOnB,EAAU,mBAe3EF,EAAEsB,UAAUV,GAAG,SAAU,oBAAqB,WAC5C,IAAIR,EAAQS,KAAKC,MAAMS,MAAM,KAAK,GAClCjB,EAAc,YAAa,eAC3BA,EAAc,eAAgBF,KAEhCJ,EAAE,4BAA4BY,GAAG,SAAU,WACzC,IACIR,EADAoB,EAAUX,KAAKC,MAGdD,KAAKY,QAIRrB,EAAQF,GAHRsB,EAAU,GACVpB,EAAQ,UAKVE,EAAc,gBAAiBkB,GAC/BxB,EAAE,WAAW0B,YAAY,eAETC,MAAZzB,GACFF,EAAE,WAAWoB,KAAK,QAAS,sBAAsBC,OAAOjB,EAAO,kBAGnEJ,EAAE,kEAAkEY,GAAG,SAAU,WAGlE,sBAFDC,KAAKC,OAGfd,EAAE,eAAe4B,YAAY,QAC7BtB,EAAc,eAAgB,wBAE9BN,EAAE,eAAe6B,SAAS,QAC1BvB,EAAc,eAAgB","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\ndefine([\n    'jquery',\n    'core/ajax'\n], function(\n    $,\n    Ajax,\n) {\n    const DEFAULTHEX = '1177d1';\n    let colorhex;\n    const COLORTOHEX = [\n        {color: 'primary', hex: '62a8ea'},\n        {color: 'brown', hex: '8d6658'},\n        {color: 'cyan', hex: '57c7d4'},\n        {color: 'green', hex: '46be8a'},\n        {color: 'grey', hex: '757575'},\n        {color: 'indigo', hex: '677ae4'},\n        {color: 'orange', hex: 'f2a654'},\n        {color: 'pink', hex: 'f96197'},\n        {color: 'purple', hex: '926dde'},\n        {color: 'red', hex: 'f96868'},\n        {color: 'teal', hex: '3aa99e'}\n    ];\n    $('#skintoolsSiteColor input[type=\"radio\"][name=\"skintoolsNavbar\"]').on('change', function () {\n        let color = this.value;\n        if (color == 'customcolor') {\n            $('.site-colorpicker').show();\n        } else {\n            $('.site-colorpicker').hide();\n            // Update sitecolor.\n            updateSetting('sitecolor', color);\n            // Update sitecolor hex.\n            colorhex = COLORTOHEX.filter(el => el.color == color);\n            if (colorhex.length) {\n                colorhex = colorhex[0].hex;\n            } else {\n                colorhex = DEFAULTHEX;\n            }\n            updateSetting('sitecolorhex', colorhex);\n            $('.navbar-brand').attr('style', `background-color: #${colorhex} !important`);\n            $('.nav-inverse').attr('style', `background-color: #${colorhex} !important`);\n            $('#page-footer').attr('style', `background-color: #${colorhex} !important`);\n        }\n    });\n\n    function updateSetting(configname, configvalue) {\n        let service_name = 'theme_remui_set_setting';\n        Ajax.call([\n            {\n                methodname: service_name,\n                args: { configname : configname, configvalue: configvalue }\n            }\n        ]);\n    }\n\n    $(document).on('change', '.site-colorpicker', function() {\n        let color = this.value.split('#')[1];\n        updateSetting('sitecolor', 'customcolor');\n        updateSetting('sitecolorhex', color);\n    });\n\n    $('#skintoolsNavbar-inverse').on('change', function () {\n        let inverse = this.value;\n        let color;\n        if (!this.checked) {\n            inverse = \"\";\n            color = \"ffffff\";\n        } else {\n            color = colorhex;\n        }\n        updateSetting('navbarinverse', inverse);\n        $('.navbar').toggleClass('nav-inverse');\n        if (colorhex != undefined) {\n            $('.navbar').attr('style', `background-color: #${color} !important`);\n        }\n    });\n\n    $('#skintoolsSidebar input[type=\"radio\"][name=\"skintoolsSidebar\"]').on('change', function () {\n        let color = this.value;\n        if (color == 'site-menubar-light') {\n            $('#nav-drawer').removeClass('dark');\n            updateSetting('sidebarcolor', 'site-menubar-light');\n        } else {\n            $('#nav-drawer').addClass('dark');\n            updateSetting('sidebarcolor', '');\n        }\n    });\n});\n"],"file":"skintool.min.js"}